var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(h){var d=0;return function(){return d<h.length?{done:!1,value:h[d++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}};$jscomp.makeIterator=function(h){var d="undefined"!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return d?d.call(h):$jscomp.arrayIterator(h)};$jscomp.arrayFromIterator=function(h){for(var d,q=[];!(d=h.next()).done;)q.push(d.value);return q};
$jscomp.arrayFromIterable=function(h){return h instanceof Array?h:$jscomp.arrayFromIterator($jscomp.makeIterator(h))};
(function(){function h(a){if(a!==document&&!1===a.matches(m.component))return!1;[].concat($jscomp.arrayFromIterable(a.querySelectorAll((a===document?m.component:"")+" .image"))).forEach(function(a){window.sg.common.image.reInit(a)});return!0}var d=window.sg.common.$q,q=window.sg.common.constants.BREAKPOINTS,l=window.sg.common.utils,g=window.sg.common.swiperManager,p=window.sg.common.lazyLoad,u=window.sg.common.video,r=window.sg.common.constants.KEY_CODE,t=window.sg.common.utils.isVerticalVisible,
m={component:".feature-column-carousel"},e=function(a){var b=this;this.selector={component:".feature-column-carousel",componentInner:".feature-column-carousel__column",swiper:".feature-column-carousel .basic-swiper",itemWrap:".feature-column-carousel__feature",itemList:".feature-column-carousel__item",showItemList:".feature-column-carousel__item:not(.is-item-active)",itemImgArea:".feature-column-carousel__figure",itemTxtArea:".feature-column-carousel__text-wrap",itemBtnArea:".feature-column-carousel__button",
itemDiscArea:".feature-column-carousel__disclaimer",slideBackBtn:".feature-column-carousel__quick-button",videoWrap:".feature-column-carousel__video-wrap",videoPlayBtn:".feature-column-carousel__play-button",videoCloseBtn:".feature-column-carousel__close",viewMoreBtn:".feature-column-carousel__more-button .cta",ctaButton:".cta[data-target-popup-id]",devideCls:"feature-column-carousel--divide",indicator:".indicator"};this.el={window:d(window),component:d(a)};this.mobileFlag=this.desktopFlag=this.startFlag=
!1;this.componentType=this.swiperTimer=null;this.desktopNextSlide=!1;this.handler={resize:this.resize.bind(this),transitionEnd:function(){var a=b.el.component.find(".swiper-wrapper").attr("id");b.el.indicator.find("button[aria-controls]").target.forEach(function(a){a.removeAttribute("aria-controls")});b.el.indicator.find(".indicator__item--active").attr("aria-controls",a)},clickCtaButton:function(a){var b=d(null);if("string"===typeof a.target.dataset.targetPopupId){var c=a.target.dataset.targetPopupId.trim().replace("#",
"");""!==c&&(b=d("#"+c))}b.hasClass("pr-g-j2a-converter")?window.sg.components.prGj2aCover.openPopup(b.target[0],a.currentTarget):b.css({display:"block",overflow:"hidden"})},checkInViewport:this.checkInViewport.bind(this)};e.instances.set(a,this);this.setElement();this.init()};e.prototype.setElement=function(){this.el.componentInner=this.el.component.find(this.selector.componentInner);this.el.swiper=this.el.component.find(this.selector.swiper);this.el.itemWrap=this.el.component.find(this.selector.itemWrap);
this.el.itemList=this.el.component.find(this.selector.itemList);this.el.showItemList=this.el.component.find(this.selector.showItemList);this.el.itemImgArea=this.el.component.find(this.selector.itemImgArea);this.el.itemTxtArea=this.el.component.find(this.selector.itemTxtArea);this.el.itemBtnArea=this.el.component.find(this.selector.itemBtnArea);this.el.itemDiscArea=this.el.component.find(this.selector.itemDiscArea);this.el.slideBackBtn=this.el.component.find(this.selector.slideBackBtn);this.el.videoWrap=
this.el.component.find(this.selector.videoWrap);this.el.videoPlayBtn=this.el.component.find(this.selector.videoPlayBtn);this.el.videoCloseBtn=this.el.component.find(this.selector.videoCloseBtn);this.el.viewMoreBtn=this.el.component.find(this.selector.viewMoreBtn);this.el.ctaButton=this.el.component.find(this.selector.ctaButton);this.el.indicator=this.el.component.find(this.selector.indicator);this.moreFlag=this.resizeFlag=this.mobileFlag=this.desktopFlag=!1;this.timer=null};e.prototype.init=function(){this.bindEvents();
this.resize();this.setType();this.setCarouselPreviewImage()};e.prototype.setType=function(){this.componentType=this.el.component.target[0].classList.contains("feature-column-carousel--divide")?"column":"carousel";"column"!==this.componentType&&(this.desktopNextSlide=this.el.swiper.target[0].classList.contains("desktop-next-slide-to-show")?!0:!1)};e.prototype.reInit=function(){this.setElement();this.init()};e.prototype.devideColumn=function(a){for(var b=this,c=a.find(this.selector.componentInner).target[0].classList,
f=1;6>f;f++){var d=void 0;d="desktop"===l.getCurrentDevice()?"feature-column-carousel__column--desktop-columns-"+f:"feature-column-carousel__column--mobile-columns-"+f;for(var e=1;e<c.length;e++)if(c[e]===d){for(var k=f,g=a.find(this.selector.itemList).target,n=[],h=Math.floor(g.length/k),m=0;m<=h;m++)n.push(g.splice(0,k));n.forEach(function(a){b.setHeight(a)})}}};e.prototype.setHeight=function(a){var b=this,c=d(a);a=c.find(this.selector.itemImgArea);var f=c.find(this.selector.itemTxtArea),e=c.find(this.selector.itemBtnArea);
c=c.find(this.selector.itemDiscArea);[a,f,e,c].forEach(function(a){var b=[];a.target.forEach(function(a){a=d(a);d(".kv-tab-container__tab-item").target.length||a.css({height:""});a.hasClass("feature-column-carousel__figure")&&(a=a.find(".image__main"));b.push(a.height())});var c=Math.max.apply(null,b);a.target.forEach(function(a){0<c&&d(a).css({height:c+"px"})})});0<this.el.component.find(".swiper-container").target.length&&setTimeout(function(){var a=b.el.component.find(".swiper-container").target[0];
g.slideUpdate(a);b.setSwiperAlly(a)},50)};e.prototype.setImgHeight=function(a){var b=this;(void 0===a?this.el.itemImgArea:a).target.forEach(function(a){a=d(a);var b=a.closest(".swiper-slide"),c=a.find(".image .image__main");c.css({height:""});a.css({height:c.height()+"px"});b.css({height:""})});0<this.el.component.find(".swiper-container").target.length&&setTimeout(function(){var a=b.el.component.find(".swiper-container").target[0];g.slideUpdate(a);b.setSwiperAlly(a)},50)};e.prototype.setDefault=
function(){[this.el.component.find(this.selector.itemImgArea),this.el.component.find(this.selector.itemTxtArea),this.el.component.find(this.selector.itemBtnArea),this.el.component.find(this.selector.itemDiscArea)].forEach(function(a){d(".kv-tab-container__tab-item").target.length||a.css({height:""})})};e.prototype.backSlide=function(a){a=d(a).closest(this.selector.swiper);g.getSwiper(a.target[0]).slideTo(0)};e.prototype.activeEmbed=function(a){var b=d("#"+a.target[0].dataset.videoId),c=b.find(".video").target[0],
f=g.getSwiper(this.el.component.find(this.selector.swiper).target[0]);b.show();b.attr("tabindex","0").focus();u.init(c);this.el.activeVideoBtn=a;l.hiddenScroll();!1!==f&&void 0!==f&&(this.el.autoplaing=f.autoplay.running,f.autoplay.stop())};e.prototype.unactiveEmbed=function(a){a=a.closest(this.selector.videoWrap);var b=a.find(".video").target[0],c=g.getSwiper(this.el.component.find(this.selector.swiper).target[0]);this.el.activeVideoBtn.focus();this.el.activeVideoBtn=null;a.hide();a.removeAttr("tabindex");
u.dispose(b);l.visibleScroll();!1!==c&&void 0!==c&&(this.el.autoplaing&&c.autoplay.start(),this.el.autoplaing=null)};e.prototype.viewMoreItem=function(a,b){var c=this,f=a.closest(this.selector.component),e=f.find(this.selector.showItemList),g=q.MOBILE<l.getViewPort().width?a.attr("data-desktop-per-page"):a.hasClass("use-mobile-carousel")?a.attr("data-desktop-per-page"):a.attr("data-mobile-per-page"),k=null,h=0;e.target.forEach(function(a,c){c<g&&(a=d(a),a.addClass("is-item-active"),void 0!==b&&0===
c&&(k=a))});var n=function(){var a=e.eq(h);h<g?(a.addClass("is-item-visible"),setTimeout(n,100)):clearTimeout(n);h++}.bind(this);(function(){p.setLazyLoad();setTimeout(function(){c.setDefault();c.devideColumn(f);f.find(".image__main").target.forEach(function(a){d(a).on("load",function(){c.devideColumn(f)})})},30);setTimeout(n,500)}).call(this);0===f.find(this.selector.showItemList).target.length&&this.el.viewMoreBtn.css({display:"none"});void 0!==b&&(k.attr("tabindex","0").focus(),k.off("keydown").on("keydown",
function(a){a.keyCode===r.TAB&&k.removeAttr("tabindex")}))};e.prototype.setSlideGroup=function(){var a=this,b=this.el.component.find(this.selector.swiper).target[0],c=d(b).hasClass("feature-column-carousel__carousel")&&!d(b).hasClass("desktop-next-slide-to-show"),f=d(b).hasClass("use-desktop-back-button");if(c){var e=1*d(b).attr("data-desktop-item-per-slide-scroll");if("desktop"===l.getCurrentDevice()){c={slidesPerGroup:e,autoHeight:!1};f&&(c.freeMode=!0);g.slideRemove(b);g.slideInit(b,c);this.setSwiperAlly(b);
window.sg.common.image.initAll();this.el.slideBackBtn.attr("tabindex",-1);var h=g.getSwiper(b);if(h)h.on("slideChangeTransitionEnd",function(){h.activeIndex+e===h.slides.length?a.el.slideBackBtn.removeAttr("tabindex"):a.el.slideBackBtn.attr("tabindex",-1)})}else g.slideRemove(b),g.slideInit(b,{autoHeight:!0}),this.setSwiperAlly(b),window.sg.common.image.initAll()}if(f=g.getSwiper(b))f.on("slideChangeTransitionEnd",function(){a.setCarouselImageLazyLoad()}),f.on("sliderMove",function(){a.setCarouselImageLazyLoad()});
g.slideInitEnd(b,function(){a.setCarouselImageLazyLoad()})};e.prototype.setCarouselPreviewImage=function(){if("carousel"===this.componentType){var a=this.el.swiper.target[0];t(a)&&(a=a.querySelectorAll(".image__preview"),a.length&&(a.forEach(function(a){a.classList.contains("lazy-load-man")&&p.setLazyLoadManually(a)}),1===a.length&&(a=a[0].parentElement.querySelector(".image__main"),p.setLazyLoadManually(a))))}};e.prototype.setCarouselImageLazyLoad=function(){if("carousel"===this.componentType&&this.el.swiper.target[0].classList.contains("swiper-container-initialized")){var a=
g.getSwiper(this.el.swiper.target[0]);Array.from(a.slides).every(function(a){return(a=a.querySelector(".image__main"))?!a.classList.contains("lazy-load-man"):!0})||(a=this.getVisibleCarouselImageArea(),a.length&&a.forEach(function(a){(a=a.querySelector(".image__main"))&&a.classList.contains("lazy-load-man")&&p.setLazyLoadManually(a)}))}};e.prototype.getVisibleCarouselImageArea=function(){var a=g.getSwiper(this.el.swiper.target[0]),b=[],c=this.desktopNextSlide?this.el.component.target[0].getBoundingClientRect():
this.el.swiper.target[0].getBoundingClientRect();Array.from(a.slides).forEach(function(a){var f=a.getBoundingClientRect();t(a)&&(f.left+10>=c.left&&f.left+10<=c.right||f.right-10>=c.left&&f.right-10<=c.right)&&b.push(a)});return b};e.prototype.resizeActive=function(){var a=this;p.setLazyLoad();this.setDefault();"desktop"===l.getCurrentDevice()?!1===this.desktopFlag&&(this.desktopFlag=!0,this.mobileFlag=!1,this.setSlideGroup()):!1===this.mobileFlag&&(this.mobileFlag=!0,this.desktopFlag=!1,this.setSlideGroup());
this.el.component.target.forEach(function(b){var c=d(b);if(c.hasClass(a.selector.devideCls))a.devideColumn(c),c.find(".image__main").target.forEach(function(b){d(b).on("load",function(){a.devideColumn(c)})});else{var f=c.find(".feature-column-carousel__carousel");if(f.hasClass("desktop-next-slide-to-show"))a.el.featureSwiper=g.getSwiper(f.target[0]),f.find(a.selector.itemImgArea+" .image__main").target.forEach(function(b){var c=d(b);if(c.hasClass("image--loaded"))a.setImgHeight(c.closest(a.selector.itemImgArea));
else c.on("load",function(){a.setImgHeight(c.closest(a.selector.itemImgArea))})});else{f=f.find(a.selector.itemImgArea+" .image__main");var e=b;"desktop"===l.getCurrentDevice()?(a.setHeight(e),f.on("load",function(){a.setHeight(e)})):(e=c.find(".feature-column-carousel__item"),e.target.forEach(function(b){a.setHeight(b)}),f.target.forEach(function(b){var c=d(b);c.on("load",function(){a.setHeight(c.closest(a.selector.itemList).target[0])})}))}}})};e.prototype.resize=function(){var a=this;if(0<this.el.component.closest(".tab-container__panel").target.length&&
!this.el.component.closest(".tab-container__panel").hasClass("is-active"))return!1;this.el.component.target.forEach(function(b){b=d(b).find(a.selector.componentInner);var c=b.attr("data-desktop-per-page")>b.attr("data-mobile-per-page")?"desktop":"mobile",f="mobile"===c?"desktop":"mobile";!1===a.startFlag?(b.attr("data-desktop-per-page")||b.attr("data-mobile-per-page")?(a.viewMoreItem(b),b.hasClass("use-mobile-carousel")||l.getCurrentDevice()!==f||(a.resizeFlag=!0)):setTimeout(function(){a.resizeActive()},
100),a.startFlag=!0):(!1!==a.moreFlag||!b.attr("data-desktop-per-page")&&!b.attr("data-mobile-per-page")||b.hasClass("use-mobile-carousel")||l.getCurrentDevice()!==c||!0!==a.resizeFlag||(a.el.itemList.removeClass("is-item-active"),a.el.itemList.removeClass("is-item-visible"),a.viewMoreItem(b),a.resizeFlag=!1),setTimeout(function(){a.resizeActive()},100))});setTimeout(function(){a.checkInViewport()},110)};e.prototype.getSwiperHeadlines=function(a){var b=[];d(a).find(".swiper-slide:not(.swiper-slide-duplicate)").target.forEach(function(a){var c=
a.getAttribute("data-type-headline");c||(c=a.dataset.tagging?JSON.parse(a.dataset.tagging)["an-tr"]:a.getAttribute("an-tr"));b.push(c)});return b};e.prototype.setSwiperBulletAlly=function(a){var b=g.getSwiper(a);b&&"desktop"===l.getCurrentDevice()&&!b.params.loop&&b.params.slidesPerView===b.params.slidesPerGroup&&(b=this.getSwiperHeadlines(a),this.setInnerHTMLBullets(a,b))};e.prototype.setInnerHTMLBullets=function(a,b){var c=g.getSwiper(a);a=d(a).find(".swiper-pagination-bullet").target;var f=c.params.slidesPerView,
e=a.length;c=b.length%f;var h=f-c,k=0;0!==c&&a.forEach(function(a,c){var g="";c+1===e&&(k-=h);for(c=k;c<k+f;c++)g=c!==k+f-1?g+(b[c]+", "):g+(""+b[c]);k+=f;d(a).find(".hidden").innerHTML(""+g)})};e.prototype.setSwiperAlly=function(a){var b=this;this.setSwiperBulletAlly(a);null!==a.querySelector(".swiper-wrapper").getAttribute("id")&&(clearTimeout(this.swiperTimer),this.swiperTimer=setTimeout(function(){var c=a.querySelector(".swiper-wrapper");c.removeAttribute("role");d(a).find(".feature-column-carousel__item[aria-describedby]").removeAttr("aria-describedby");
setTimeout(function(){g.slideInitEnd(a,function(){var f=b.el.component.find(".indicator"),d=c.getAttribute("id");1>f.target.length||"none"===f.css("display")||(b.el.indicator.find("button[aria-controls]").target.forEach(function(a){a.removeAttribute("aria-controls")}),b.el.indicator.find(".indicator__item--active").attr("aria-controls",d),c.setAttribute("role","tabpanel"),a.swiper.off("transitionEnd",b.handler.transitionEnd).on("transitionEnd",b.handler.transitionEnd))})},100)},50))};e.prototype.checkInViewport=
function(){var a=this.el.component.find(".swiper-container").target[0],b=g.getSwiper(a);this.setCarouselPreviewImage();this.setCarouselImageLazyLoad();b&&b.params.autoplay.enabled&&(!t(this.el.component.target[0])&&b.autoplay.running?g.slideStop(a):t(this.el.component.target[0])&&!b.autoplay.running&&g.slideStart(a))};e.prototype.bindEvents=function(){var a=this;this.el.window.off("resize",this.handler.resize).on("resize",this.handler.resize);this.el.window.off("scroll",this.handler.checkInViewport).on("scroll",
this.handler.checkInViewport);this.el.slideBackBtn.target.forEach(function(b){d(b).off("click").on("click",function(){a.backSlide(b)})});this.el.videoPlayBtn.target.forEach(function(b){var c=d(b);c.off("click").on("click",function(){a.activeEmbed(c)})});this.el.videoCloseBtn.target.forEach(function(b){var c=d(b);c.off("click").on("click",function(){a.unactiveEmbed(c)});c.off("keydown").on("keydown",function(b){var d=c.closest(a.selector.videoWrap);b.keyCode===r.TAB&&!1===b.shiftKey&&d.attr("tabindex",
"0").focus();b.keyCode===r.ENTER&&a.unactiveEmbed(c);b.preventDefault()})});this.el.videoWrap.target.forEach(function(b){var c=d(b);c.off("keydown").on("keydown",function(b){var d=c.find(a.selector.videoCloseBtn);b.keyCode===r.TAB&&!0===b.shiftKey&&(d.attr("tabindex","0").focus(),b.preventDefault())})});this.el.viewMoreBtn.target.forEach(function(b){var c=d(b);c.off("click").on("click",function(){a.viewMoreItem(c.closest(a.selector.componentInner),"focus");a.moreFlag=!0})});this.el.ctaButton.target.forEach(function(b){d(b).off("click",
a.handler.clickCtaButton).on("click",a.handler.clickCtaButton)})};var v=function(){d(window);d(m.component);d(m.component).target.forEach(function(a){e.instances.has(a)||new e(a)})},w=function(a){d(a).find(".basic-swiper").target.forEach(function(a){void 0===a.swiper?g.slideInit(a):g.slideReInit(a)});e.instances.has(a)?e.instances.get(a).reInit():new e(a)};e.instances=new WeakMap;d.ready(v);window.sg.components.featureColumnCarousel={init:v,reInit:function(a){a?h(a)&&w(a):(h(document),d(m.component).target.forEach(function(a){w(a)}))}}})();